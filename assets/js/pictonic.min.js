/*
 * domready
 * https://github.com/alanclarke/domready.js
 * logic stripped from https://github.com/jquery/
 * Copyright (c) 2012 Alan Clarke
 * Licensed under the GPL license.
 */

/*
 *  after
 *  https://github.com/alanclarke/after.js
 *
 *  Copyright (c) 2012 Alan Clarke
 *  Licensed under the GPL license.
 *
 *  structure and logic largely taken from http://jquery.lukelutman.com/plugins/pseudo/
 *  but uses a different technique to scan and apply rules which avoids the requirement for special syntax
 *  and refactored to remove jquery dependency
 */

function domready(e){var t=this;t.readyWait=1,t.DOMContentLoaded=function(){document.addEventListener?(document.removeEventListener("DOMContentLoaded",t.DOMContentLoaded,!1),t.ready()):document.readyState==="complete"&&(document.detachEvent("onreadystatechange",t.DOMContentLoaded),t.ready())},t.ready=function(n){if(n===!0?--t.readyWait:t.isReady)return;if(!document.body)return setTimeout(t.ready,1);t.isReady=!0;if(n!==!0&&--t.readyWait>0)return;return!e||e()};if(document.readyState==="complete")setTimeout(t.ready,1);else if(document.addEventListener)document.addEventListener("DOMContentLoaded",t.DOMContentLoaded,!1),window.addEventListener("load",t.ready,!1);else{document.attachEvent("onreadystatechange",t.DOMContentLoaded),window.attachEvent("onload",t.ready);var n=!1;try{n=!window.frameElement&&document.documentElement}catch(r){}n&&n.doScroll&&function i(){if(!t.isReady){try{n.doScroll("left")}catch(e){return setTimeout(i,50)}t.ready()}}()}}function getElements(e,t){if(!e||!e.length||e.length===0)return[];var n=[t||document.body],r=[];e=e.split(" ");for(var i=0;i<e.length;i++){var s={id:"",tag:"*",clas:[]},o,u,a=e[i];while(a.length>0)u=a.search(/.[#\.]/)+1||a.length,o=a.substr(0,u),o.substr(0,1)==="#"?s.id=o.substr(1):o.substr(0,1)==="."?s.clas.push(o.substr(1)):s.tag=o,a=a.substr(u);while(n.length>0){var f=[],l=n.shift().getElementsByTagName(s.tag);for(var c=0;c<l.length;c++)f.push(l[c]);while(f.length>0){var h=!0,p=f.shift();s.id&&p.id!==s.id&&(h=!1);for(c=0;c<s.clas.length;c++){var d=s.clas[c];if(d.charAt(d.length-1)==="*"){var v="\\s"+d.substr(0,d.length-1)+"\\S*\\s";if(!(new RegExp(v)).test(" "+p.className+" ")){h=!1;break}}else if((" "+p.className+" ").indexOf(" "+d+" ")===-1){h=!1;break}}h&&r.push(p)}}n=r,r=[]}return n}typeof define=="function"&&define.amd&&define("src/domready/domready",[],domready),function(){typeof define=="function"&&define.amd&&define("src/getElements",[],getElements)}();var after;(function(){function e(e){return function(){function n(e){if(e&&e.length){var n=e.match(t.text)[1],r=n.match(t.url);return r?'<img src="'+r[1]+'" />':n}}function r(t,r,i){var s=i.style;for(var o=0;o<r.length;o++){var u=r[o],a=e(".pseudo-after",r[o]);a.length||(a=document.createElement("span"),u.appendChild(a)),a.className="pseudo-after",a.innerHTML=n(i.style.content);for(var f in s)if(s[f])try{a.style[f]=s[f]}catch(l){}}}var t={text:/^['"]?(.+?)["']?$/,url:/^url\(["']?(.+?)['"]?\)$/},i=e(".icon-*");for(var s=0;s<i.length;s++)/(^|\s)pictonic(\s|$)/.test(i[s].className)||(i[s].className+=" pictonic");for(var s=0;s<document.styleSheets.length;s++)try{var o;document.styleSheets[s].cssRules?o=document.styleSheets[s].cssRules:document.styleSheets[s].rules?o=document.styleSheets[s].rules:o=[];for(var u=0;u<o.length;u++){var a=o[u],i=e(a.selectorText.replace(/:+\w+/gi,""));/:+unknown/gi.test(a.selectorText)&&a.style.content&&i.length&&r("before",i,a)}}catch(f){}}}typeof define=="function"&&define.amd?define("src/after",["src/getElements"],e):getElements&&(after=e(getElements))})(),function(){typeof define=="function"&&define.amd?define("src/after.run.js",["src/domready/domready","src/after"],function(e,t){return e(t)}):domready&&after&&domready(after)}()